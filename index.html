<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Malla Curricular - Ingenier√≠a Empresarial</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #ffe7e7;
      font-family: 'Poppins', sans-serif;
      padding: 20px;
      color: #333;
    }
    h1 {
      text-align: center;
      color: #ff8cdb;
      margin-bottom: 30px;
    }
    .ciclo {
      margin-bottom: 40px;
    }
    .ciclo h2 {
      background: #e9ecef;
      padding: 10px 20px;
      border-radius: 12px;
      color: #495057;
      box-shadow: 2px 2px 10px rgba(0,0,0,0.05);
      width: fit-content;
    }
    .cursos {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-top: 15px;
    }
    .curso {
      border-radius: 16px;
      padding: 16px;
      width: 260px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
      transition: transform 0.2s, box-shadow 0.2s;
      cursor: pointer;
    }
    .curso:hover {
      transform: scale(1.03);
      box-shadow: 0 6px 12px rgba(0,0,0,0.1);
    }
    .curso h3 {
      margin: 0 0 10px 0;
      font-size: 16px;
    }
    .curso p {
      margin: 4px 0;
      font-size: 14px;
    }
    .icono {
      font-size: 18px;
      margin-right: 6px;
    }
    .bloqueado {
      background-color: ##e1e1e1;
      color: #888;
      cursor: not-allowed;
    }
    .habilitado {
      background-color: #e1c4ff;
      color: #004085;
    }
    .aprobado {
      background-color: #ffd9d9;
      color: #155724;
      text-decoration: line-through;
    }
  </style>
</head>
<body>
  <h1>üíº Malla Curricular - Ingenier√≠a Empresarial</h1>
  <div id="contenedor-ciclos"></div>
  <script>
    const cursosData = [
      {
        ciclo: 1,
        cursos: [
          { id: "RRHH1101", nombre: "üéØ Desarrollo del Talento", creditos: 2, detalle: "HT: 2" },
          { id: "MATH1002", nombre: "üìê Complemento Matem√°tico", creditos: 5, detalle: "HT: 4 | HP: 2" },
          { id: "MAGM1104", nombre: "üíº Introducci√≥n a la Ing. Empresarial", creditos: 3, detalle: "HT: 2 | HL: 2" },
          { id: "QUIM1105", nombre: "üß™ Qu√≠mica 1", creditos: 4, detalle: "HT: 2 | HP: 2 | HL: 2" },
          { id: "LENG1001", nombre: "üìù Comunicaci√≥n 1", creditos: 5, detalle: "HT: 4 | HP: 2" },
          { id: "ECON1203", nombre: "üí∞ Econom√≠a", creditos: 3, detalle: "HT: 2 | HP: 2" }
        ]
      },
      {
        ciclo: 2,
        cursos: [
          { id: "MATH1003", nombre: "üìê Matem√°tica B√°sica", creditos: 5, detalle: "HT: 4 | HP: 2", req: ["MATH1002"] },
          { id: "LENG1002", nombre: "üìù Comunicaci√≥n 2", creditos: 5, detalle: "HT: 4 | HP: 2", req: ["LENG1001"] },
          { id: "CONT1208", nombre: "üìä Gesti√≥n Contable", creditos: 3, detalle: "HT: 2 | HP: 2" },
          { id: "HUMA1306", nombre: "üåç Ciudadan√≠a Global", creditos: 2, detalle: "HT: 2" },
          { id: "INVE1101", nombre: "üìñ Metodolog√≠a Universitaria", creditos: 3, detalle: "HT: 2 | HP: 2" }
        ]
      },
      {
        ciclo: 3,
        cursos: [
          { id: "MATH1101A", nombre: "üìê C√°lculo 1", creditos: 5, detalle: "HT: 4 | HP: 2", req: ["MATH1003"] },
          { id: "ISOF1202A", nombre: "üíæ Gesti√≥n de Base de Datos", creditos: 3, detalle: "HT: 2 | HL: 2" },
          { id: "STAT1203A", nombre: "üìä Probabilidad y Estad√≠stica", creditos: 5, detalle: "HT: 4 | HP: 2", req: ["MATH1003"] },
          { id: "IDIO1401", nombre: "üó£Ô∏è Pre Beginner 1", creditos: 1, detalle: "HT: 1" },
          { id: "LENG1003", nombre: "üìù Comunicaci√≥n 3", creditos: 5, detalle: "HT: 4 | HP: 2", req: ["LENG1002"] },
          { id: "INFO1120A", nombre: "üíª Herramientas Inform√°ticas", creditos: 2, detalle: "HT: 2" }
        ]
      },
      {
        ciclo: 4,
        cursos: [
          { id: "MATH1202A", nombre: "üìê C√°lculo 2", creditos: 5, detalle: "HT: 4 | HP: 2", req: ["MATH1101A"] },
          { id: "INFO1204A", nombre: "üíª Sistemas de Informaci√≥n Empresarial", creditos: 3, detalle: "HT: 2 | HL: 2", req: ["ISOF1202A"] },
          { id: "STAT1204", nombre: "üìä Herramientas Estad√≠sticas para la Investigaci√≥n", creditos: 3, detalle: "HT: 2 | HL: 2", req: ["STAT1203A"] },
          { id: "FINN1319", nombre: "üí∞ Ingenier√≠a Econ√≥mica y Finanzas", creditos: 3, detalle: "HT: 2 | HL: 2", req: ["MATH1101A"] },
          { id: "RRHH1303", nombre: "üë• Empleabilidad", creditos: 4, detalle: "HT: 2 | PC: 4", req: ["RRHH1101"] },
          { id: "MARK1203B", nombre: "üìà Gerencia de Marketing", creditos: 4, detalle: "HT: 4" }
        ]
      },
      {
        ciclo: 5,
        cursos: [
          { id: "INFO1308A", nombre: "üñ•Ô∏è Tecnolog√≠as de Informaci√≥n Aplicadas a los Negocios", creditos: 3, detalle: "HT: 2 | HL: 2", req: ["ISOF1202A"] },
          { id: "OPER1308A", nombre: "üèóÔ∏è Ingenier√≠a de Productos y Procesos", creditos: 6, detalle: "HT: 6", req: ["MARK1203B"] },
          { id: "FINN1313", nombre: "üíµ Gesti√≥n de Costos", creditos: 3, detalle: "HT: 2 | HP: 2", req: ["CONT1208"] },
          { id: "HUMA1111", nombre: "üå± Responsabilidad Social", creditos: 2, detalle: "HT: 2" },
          { id: "FISI1207", nombre: "‚öõÔ∏è F√≠sica 1", creditos: 4, detalle: "HT: 2 | HP: 2 | HL: 2", req: ["MATH1003"] },
          { id: "IDIO1402", nombre: "üó£Ô∏è Pre Beginner 2", creditos: 1, detalle: "HT: 1", req: ["IDIO1401"] }
        ]
      },
      {
        ciclo: 6,
        cursos: [
          { id: "MAGM1313A", nombre: "üîÑ Gesti√≥n de Procesos de Negocios (BPM)", creditos: 4, detalle: "HT: 4", req: ["OPER1308A"] },
          { id: "INVE1301", nombre: "üìù Metodolog√≠a de la Investigaci√≥n", creditos: 3, detalle: "HT: 2 | HP: 2", req: ["INVE1101"] },
          { id: "FINN1408A", nombre: "üåç Finanzas Internacionales", creditos: 4, detalle: "HT: 4", req: ["FINN1319"] },
          { id: "MAGM1311A", nombre: "üèõÔ∏è Arquitectura Empresarial", creditos: 3, detalle: "HT: 2 | HL: 2", req: ["INFO1308A"] },
          { id: "OPER1405R", nombre: "üìê Investigaci√≥n de Operaciones", creditos: 5, detalle: "HT: 4 | HL: 2", req: ["MATH1202A"] }
        ]
      },
      {
        ciclo: 7,
        cursos: [
          { id: "SUPP1405", nombre: "üöö Gerencia de la Cadena de Suministros", creditos: 4, detalle: "HT: 4", req: ["MAGM1313A"] },
          { id: "EMPR1403", nombre: "üí° Innovaci√≥n y Emprendimiento", creditos: 3, detalle: "HT: 2 | HL: 2", req: ["MARK1203B"] },
          { id: "HUMA1406", nombre: "ü§ù Proyecto Social", creditos: 1, detalle: "HT: 1", req: ["HUMA1111"] },
          { id: "COME1412", nombre: "üß≠ Direcci√≥n de Procesos Comerciales y TI", creditos: 3, detalle: "HT: 2 | HP: 2", req: ["OPER1308A"] },
          { id: "RRHH1306A", nombre: "üë§ Procesos de Gesti√≥n de Personas y TI", creditos: 5, detalle: "HT: 4 | HL: 2", req: ["INFO1204A"] },
          { id: "FINN1404B", nombre: "üìä Formulaci√≥n y Evaluaci√≥n de Proyectos", creditos: 3, detalle: "HT: 2 | HL: 2", req: ["FINN1319"] }
        ]
      },
      {
        ciclo: 8,
        cursos: [
          { id: "COME1401A", nombre: "üß© Gesti√≥n Estrat√©gica Comercial", creditos: 3, detalle: "HT: 3", req: ["COME1412"] },
          { id: "MAGM1406", nombre: "üè¢ Gesti√≥n del Cambio Organizacional", creditos: 3, detalle: "HT: 3", req: ["MAGM1313A"] },
          { id: "EMPR1406", nombre: "üöÄ Emprendimiento Empresarial", creditos: 4, detalle: "HT: 3 | HL: 2", req: ["EMPR1403"] },
          { id: "SEGU1405", nombre: "üíº Finanzas Corporativas y Seguros", creditos: 3, detalle: "HT: 2 | HL: 2", req: ["FINN1408A"] },
          { id: "PROY1406", nombre: "üìã Gesti√≥n de Proyectos Empresariales", creditos: 4, detalle: "HT: 3 | HL: 2", req: ["FINN1404B"] }
        ]
      },
      {
        ciclo: 9,
        cursos: [
          { id: "PRAC1501", nombre: "üß™ Pr√°ctica Pre Profesional", creditos: 3, detalle: "HT: 3", req: ["PROY1406"] },
          { id: "MAGM1410", nombre: "üè¢ Gesti√≥n Estrat√©gica del Talento Humano", creditos: 3, detalle: "HT: 3", req: ["MAGM1406"] },
          { id: "FINN1509", nombre: "üìà An√°lisis Financiero", creditos: 3, detalle: "HT: 3", req: ["SEGU1405"] },
          { id: "COME1504", nombre: "üß≠ Direcci√≥n Estrat√©gica Comercial", creditos: 4, detalle: "HT: 3 | HL: 2", req: ["COME1401A"] },
          { id: "RRHH1502", nombre: "üë• Gesti√≥n del Talento Humano en Entornos Digitales", creditos: 3, detalle: "HT: 2 | HL: 2", req: ["RRHH1306A"] }
        ]
      },
      {
        ciclo: 10,
        cursos: [
          { id: "COME1511", nombre: "üß≠ Gerencia Comercial y Tecnolog√≠as Emergentes", creditos: 4, detalle: "HT: 3 | HL: 2", req: ["COME1504"] },
          { id: "PROY1512", nombre: "üìù Proyecto Integrador Empresarial", creditos: 5, detalle: "HT: 3 | HL: 4", req: ["PRAC1501"] },
          { id: "FINN1511", nombre: "üìä T√≥picos Avanzados de Finanzas", creditos: 3, detalle: "HT: 3", req: ["FINN1509"] },
          { id: "MAGM1513", nombre: "üè¢ Gobierno Corporativo", creditos: 3, detalle: "HT: 3", req: ["MAGM1410"] }
        ]
      }
    ];

    const contenedor = document.getElementById("contenedor-ciclos");

    // Funci√≥n para renderizar la malla curricular
    function renderizarMalla() {
      contenedor.innerHTML = ''; // Limpia el contenedor antes de renderizar
      cursosData.forEach(({ ciclo, cursos }) => {
        const cicloDiv = document.createElement("div");
        cicloDiv.className = "ciclo";
        cicloDiv.innerHTML = `<h2>üìò Ciclo ${ciclo}</h2>`;
        const cursosDiv = document.createElement("div");
        cursosDiv.className = "cursos";

        cursos.forEach(curso => {
          const div = document.createElement("div");
          div.dataset.id = curso.id;
          if (curso.req) div.dataset.req = curso.req.join(",");
          
          let estado = "bloqueado"; // Estado inicial por defecto
          if (!curso.req || todosRequisitosAprobados(curso.req)) {
            estado = "habilitado";
          }
          if (localStorage.getItem(curso.id) === "aprobado") {
            estado = "aprobado";
          }

          div.className = `curso ${estado}`;
          div.innerHTML = `
            <h3>${curso.nombre}</h3>
            <p><span class="icono">üìö</span> Cr√©ditos: ${curso.creditos}</p>
            <p><span class="icono">‚è±</span> ${curso.detalle}</p>
          `;
          cursosDiv.appendChild(div);
        });

        cicloDiv.appendChild(cursosDiv);
        contenedor.appendChild(cicloDiv);
      });
    }

    // Funci√≥n para verificar si los requisitos est√°n aprobados
    function todosRequisitosAprobados(requisitos) {
      if (!requisitos || requisitos.length === 0) return true;
      return requisitos.every(reqId => localStorage.getItem(reqId) === "aprobado");
    }

    // Funci√≥n principal para manejar los clics
    document.addEventListener("click", function(e) {
      const curso = e.target.closest(".curso");
      if (!curso || curso.classList.contains("bloqueado")) return;

      const id = curso.dataset.id;
      if (curso.classList.contains("aprobado")) {
        localStorage.removeItem(id); // Desmarca como aprobado
      } else {
        localStorage.setItem(id, "aprobado"); // Marca como aprobado
      }
      renderizarMalla(); // Vuelve a renderizar para actualizar los estados
    });

    // Renderizar la malla al cargar la p√°gina
    renderizarMalla();
  </script>
</body>
</html>